<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>FrequencyDoctor</title>
  <meta name="theme-color" content="#0ea5e9">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="FrequencyDoctor">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="img/favicon.png" sizes="any" type="image/png">
  <link rel="apple-touch-icon" href="img/favicon.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <img class="brand-icon" src="img/favicon.png" alt="" aria-hidden="true">
      <h1 class="brand-name">FrequencyDoctor</h1>
    </div>
    <div class="actions">
      <button id="helpBtn" class="icon-btn" aria-label="Help" title="Help">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2Zm0 17a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Zm1.2-5.9c-.7.4-.95.7-.95 1.4v.25h-1.7v-.35c0-1.2.55-1.9 1.5-2.45.75-.45 1.1-.75 1.1-1.35 0-.75-.6-1.25-1.5-1.25s-1.5.55-1.55 1.45H7.6c.05-1.9 1.55-3.1 3.9-3.1s3.8 1.15 3.8 2.9c0 1.25-.65 2.05-2.1 2.9Z"/></svg>
      </button>
      <button id="settingsBtn" class="icon-btn" aria-label="Settings" title="Settings">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M19.14 12.94c.04-.31.06-.63.06-.94s-.02-.63-.06-.94l2.03-1.58a.5.5 0 0 0 .12-.65l-1.92-3.32a.5.5 0 0 0-.6-.22l-2.39.96a7.07 7.07 0 0 0-1.63-.94l-.36-2.54a.5.5 0 0 0-.5-.43h-3.84a.5.5 0 0 0-.5.43l-.36 2.54c-.58.23-1.12.53-1.63.94l-2.39-.96a.5.5 0 0 0-.6.22L2.8 8.83a.5.5 0 0 0 .12.65l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94L2.92 14.5a.5.5 0 0 0-.12.65l1.92 3.32c.14.25.43.35.69.26l2.39-.96c.51.41 1.05.71 1.63.94l.36 2.54c.05.25.26.43.5.43h3.84c.24 0 .45-.18.5-.43l.36-2.54c.58-.23 1.12-.53 1.63-.94l2.39.96c.26.09.55-.01.69-.26l1.92-3.32a.5.5 0 0 0-.12-.65l-2.03-1.56ZM12 15.5A3.5 3.5 0 1 1 12 8.5a3.5 3.5 0 0 1 0 7Z"/></svg>
      </button>
    </div>
  </header>

  <main class="container">
    <section class="controls">
      <input id="search" class="search" type="search" placeholder="Search conditions or frequencies">
      <div class="freq-input">
        <label for="freq">Frequency (Hz)</label>
        <div class="freq-row">
          <input id="freq" type="number" min="0.1" max="20000" step="0.01" value="432">
          <button id="play" class="btn primary">Play</button>
          <button id="stop" class="btn" disabled>Stop</button>
        </div>
      </div>

      <div class="multi-actions">
        <span id="selCount" class="sel-count">Selected: 0</span>
        <div class="multi-row">
          <button id="clearSel" class="btn">Clear selections</button>
          <button id="playSelected" class="btn">Play Selected</button>
        </div>
      </div>

      <div class="sliders">
        <label for="volume">Volume</label>
        <input id="volume" type="range" min="0" max="100" value="20">
      </div>
      <div class="bgfx-controls">
        <div class="bgfx-row">
          <label for="bgLoopSelect">Background FX</label>
          <select id="bgLoopSelect" class="select bgfx-select"></select>
        </div>
        <div class="bgfx-row">
          <label for="bgLoopVolume">BG volume</label>
          <input id="bgLoopVolume" type="range" min="0" max="100" value="40">
        </div>
      </div>
      <div class="filters">
        <div class="filter-row">
          <label for="category">Category</label>
          <select id="category" class="select">
            <option value="">All categories</option>
          </select>
        </div>
        <label class="fav-toggle"><input id="onlyFavs" type="checkbox"> Favorites only</label>
      </div>
      <div id="now-playing" class="now-playing">Idle</div>
    </section>

    <section class="list" id="list"></section>
  </main>

  <script src="data/frequencies.js"></script>
  <script src="app.js"></script>
  <!-- Modals -->
  <div id="modalBackdrop" class="modal-backdrop hidden"></div>
  <div id="settingsModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="settingsTitle">
    <div class="modal-card">
      <div class="modal-head">
        <h2 id="settingsTitle">Settings</h2>
        <button id="closeSettings" class="icon-btn" aria-label="Close">✕</button>
      </div>
      <div class="modal-body">
        <div class="field">
          <label>Theme</label>
          <div class="radio-row">
            <label><input type="radio" name="theme" value="system" checked> System</label>
            <label><input type="radio" name="theme" value="light"> Light</label>
            <label><input type="radio" name="theme" value="dark"> Dark</label>
          </div>
        </div>
        <div class="field">
          <label>Behavior</label>
          <label class="switch-row"><input type="checkbox" id="keepAwake"> Keep screen awake (prevent lock)</label>
        </div>
      </div>
    </div>
  </div>
  <div id="helpModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="helpTitle">
    <div class="modal-card">
      <div class="modal-head">
        <h2 id="helpTitle">Help</h2>
        <button id="closeHelp" class="icon-btn" aria-label="Close">✕</button>
      </div>
      <div class="modal-body">
        <p>Search for a condition or frequency, tap to play, or select multiple and use Play Selected. Use Favorites ★ to save items. Theme is configurable in Settings.</p>
      </div>
    </div>
  </div>
</body>
</html>
