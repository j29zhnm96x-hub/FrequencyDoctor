<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>FrequencyDoctor</title>
  <meta name="theme-color" content="#0ea5e9">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="FrequencyDoctor">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="img/favicon.png" sizes="any" type="image/png">
  <link rel="apple-touch-icon" href="img/favicon.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <h1 class="brand-name">FrequencyDoctor</h1>
    </div>
    <div class="header-actions">
      <button id="settingsBtn" class="icon-btn" aria-label="Settings" title="Settings">
        <svg class="svg-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M19.4 13.5c.05-.5.1-1 .1-1.5s-.05-1-.1-1.5l2-1.5a.7.7 0 0 0 .15-.9l-1.9-3.3a.7.7 0 0 0-.85-.3l-2.3 1a7.3 7.3 0 0 0-2.6-1.5l-.35-2.5A.7.7 0 0 0 12 1h-4a.7.7 0 0 0-.7.6l-.35 2.5a7.3 7.3 0 0 0-2.6 1.5l-2.3-1a.7.7 0 0 0-.85.3L.3 8.2a.7.7 0 0 0 .15.9l2 1.5c-.05.5-.1 1-.1 1.5s.05 1 .1 1.5l-2 1.5a.7.7 0 0 0-.15.9l1.9 3.3c.2.3.53.44.85.3l2.3-1c.75.62 1.63 1.15 2.6 1.5l.35 2.5c.05.34.35.6.7.6h4c.35 0 .65-.26.7-.6l.35-2.5c.97-.35 1.85-.88 2.6-1.5l2.3 1c.32.14.65 0 .85-.3l1.9-3.3a.7.7 0 0 0-.15-.9l-2-1.5ZM10 15a3 3 0 1 1 4 0 3 3 0 0 1-4 0Z"/></svg>
      </button>
      <button id="helpBtn" class="icon-btn text" aria-label="Help" title="Help">?</button>
    </div>
  </header>

  <div id="settingsModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="settingsTitle" hidden>
    <div class="modal-overlay" data-close="1"></div>
    <div class="modal-panel">
      <div class="modal-head">
        <h2 id="settingsTitle">Settings</h2>
        <button id="settingsClose" class="icon-btn" aria-label="Close settings"><svg class="svg-icon" viewBox="0 0 24 24"><path d="M6.2 6.2 18 18m0-11.8L6.2 18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg></button>
      </div>
      <div class="modal-body">
        <div class="setting-row">
          <div class="setting-label">Theme</div>
          <div class="setting-field">
            <label class="radio"><input type="radio" name="theme" id="themeDark" value="dark"> Dark</label>
            <label class="radio"><input type="radio" name="theme" id="themeLight" value="light"> Light</label>
          </div>
        </div>
      </div>
      <div class="modal-foot">
        <button id="settingsSave" class="btn primary">Save</button>
        <button id="settingsCancel" class="btn">Cancel</button>
      </div>
    </div>
  </div>

  <div id="helpModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="helpTitle" hidden>
    <div class="modal-overlay" data-close="1"></div>
    <div class="modal-panel">
      <div class="modal-head">
        <h2 id="helpTitle">Help</h2>
        <button id="helpClose" class="icon-btn" aria-label="Close help"><svg class="svg-icon" viewBox="0 0 24 24"><path d="M6.2 6.2 18 18m0-11.8L6.2 18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg></button>
      </div>
      <div class="modal-body">
        <p><strong>This app is designed for relaxation and well-being support. It is not a medical device. The sounds are meant to harmonize body and mind while remembering that ultimate healing comes from reconnecting with the Supreme Source.</strong></p>
        <h3>What is FrequencyDoctor?</h3>
        <p>FrequencyDoctor plays precise pure tones with optional background soundscapes to encourage relaxation, focus, sleep preparation, and emotional balance. You can browse named uses, mark favorites, and layer multiple tones with smart stereo placement.</p>
        <h3>Why sound can help</h3>
        <ul>
          <li><b>Auditory entrainment:</b> Regular, steady tones can promote calmer rhythmic activity in the brain and autonomic system, supporting relaxation and focus.</li>
          <li><b>Attention and masking:</b> Gentle sound can shift attention away from stressors or internal noise, offering relief for some individuals.</li>
          <li><b>State priming and ritual:</b> Consistent soundscapes act as cues that facilitate meditation, deep work, or sleep onset.</li>
        </ul>
        <h3>What the research suggests (high level)</h3>
        <ul>
          <li><b>Music therapy:</b> Multiple reviews report benefits for stress, mood, and pain in selected settings; effect sizes vary by protocol and individual.</li>
          <li><b>Binaural/steady tones:</b> Controlled studies and meta-analyses have found small-to-moderate improvements in anxiety, relaxation, and sleep for some users; findings are mixed and method-dependent.</li>
          <li><b>Tinnitus and sound therapy:</b> Sound-based approaches can reduce symptom burden for a subset of people, though outcomes differ widely and are not guaranteed.</li>
        </ul>
        <p>Overall, evidence is evolving. Results are individualized; use this as a supportive practice alongside healthy habits and professional care when needed.</p>
        <h3>How to use</h3>
        <ul>
          <li>Search or browse, then tap a frequency to play. Start with modest volume.</li>
          <li>Select multiple items and press <b>Play Selected</b> to layer tones with stereo spread.</li>
          <li>Add a <b>Background FX</b> loop if desired for comfort and immersion.</li>
          <li>Experiment and note which combinations and durations feel best for you.</li>
        </ul>
        <h3>Safety</h3>
        <ul>
          <li>Keep volume conservative; take breaks to protect hearing.</li>
          <li>Do not use while driving or whenever full attention is required.</li>
          <li>If symptoms persist or worsen, consult a qualified clinician.</li>
        </ul>
        <h3>Selected reading</h3>
        <ul>
          <li>Bradt J, Dileo C, et al. Cochrane reviews on music interventions for anxiety and medical procedures.</li>
          <li>Chanda ML, Levitin DJ. The neurochemistry of music and its effects on mood and stress (2013).</li>
          <li>García-Argibay S, Santed MA, Reales JM. Meta-analytic work on binaural beats and outcomes like anxiety/sleep (2019).</li>
          <li>Hoare DJ, et al. Reviews on sound therapy approaches for tinnitus; outcomes vary by individual.</li>
        </ul>
      </div>
      <div class="modal-foot">
        <button id="helpCloseBtn" class="btn">Close</button>
      </div>
    </div>
  </div>
  <main class="container">
    <section class="controls">
      <input id="search" class="search" type="search" placeholder="Search conditions or frequencies">
      <div class="freq-input">
        <label for="freq">Frequency (Hz)</label>
        <div class="freq-row">
          <input id="freq" type="number" min="0.1" max="20000" step="0.01" value="432">
          <button id="play" class="btn primary">Play</button>
          <button id="stop" class="btn" disabled>Stop</button>
          <select id="sleepTimer" class="select timer-select" aria-label="Sleep timer">
            <option value="">Timer: Off</option>
            <option value="15m">15m</option>
            <option value="30m">30m</option>
            <option value="45m">45m</option>
            <option value="1h">1h</option>
            <option value="1.5h">1,5h</option>
            <option value="2h">2h</option>
            <option value="3h">3h</option>
            <option value="4h">4h</option>
            <option value="6h">6h</option>
            <option value="8h">8h</option>
            <option value="custom">Custom…</option>
          </select>
          <input id="timerCustom" class="timer-input" type="text" placeholder="e.g. 90m or 1:30" hidden>
        </div>
      </div>

      <div class="multi-actions">
        <span id="selCount" class="sel-count">Selected: 0</span>
        <div class="multi-actions-right">
          <button id="clearSelected" class="btn sm">Clear selections</button>
          <button id="playSelected" class="btn sm">Play Selected</button>
        </div>
      </div>

      <div class="sliders">
        <label for="volume">Volume</label>
        <input id="volume" type="range" min="0" max="100" value="20">
      </div>
      <div class="bgfx-controls">
        <div class="bgfx-row">
          <label for="bgLoopSelect">Background FX</label>
          <select id="bgLoopSelect" class="select bgfx-select"></select>
        </div>
        <div class="bgfx-row">
          <label for="bgLoopVolume">BG volume</label>
          <input id="bgLoopVolume" type="range" min="0" max="100" value="40">
        </div>
      </div>
      <div class="filters">
        <div class="filter-row">
          <label for="category">Category</label>
          <select id="category" class="select">
            <option value="">All categories</option>
          </select>
        </div>
        <label class="fav-toggle"><input id="onlyFavs" type="checkbox"> Favorites only</label>
      </div>
      <div id="now-playing" class="now-playing">Idle</div>
    </section>

    <section class="list" id="list"></section>
  </main>
  <audio id="audioOut" playsinline style="display:none"></audio>
  <script src="data/frequencies.js"></script>
  <script src="app.js"></script>
</body>
</html>
