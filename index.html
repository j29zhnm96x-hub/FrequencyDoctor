<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>FrequencyDoctor</title>
  <meta name="theme-color" content="#0ea5e9">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="FrequencyDoctor">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="img/favicon.png" sizes="any" type="image/png">
  <link rel="apple-touch-icon" href="img/favicon.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <img class="brand-icon" src="img/favicon.png" alt="" aria-hidden="true">
      <h1 class="brand-name">FrequencyDoctor</h1>
    </div>
    <div class="header-actions">
      <button id="helpBtn" class="icon-btn" aria-label="Help" title="Help">
        <svg class="svg-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm0 15a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Zm0-10c-2.1 0-3.5 1.2-3.5 2.9h2.1c0-.7.6-1.2 1.4-1.2.8 0 1.4.4 1.4 1.1 0 .6-.3.9-1 1.3-.3.2-.6.3-.8.5-.9.6-1.2 1.2-1.2 2.2v.3h2.1v-.2c0-.5.1-.7.9-1.2.2-.1.5-.3.8-.5 1-.6 1.6-1.4 1.6-2.6C14.8 8 13.7 7 12 7Z"/></svg>
      </button>
      <button id="settingsBtn" class="icon-btn" aria-label="Settings" title="Settings">
        <svg class="svg-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M19.4 13.5c.05-.5.1-1 .1-1.5s-.05-1-.1-1.5l2-1.5a.7.7 0 0 0 .15-.9l-1.9-3.3a.7.7 0 0 0-.85-.3l-2.3 1a7.3 7.3 0 0 0-2.6-1.5l-.35-2.5A.7.7 0 0 0 12 1h-4a.7.7 0 0 0-.7.6l-.35 2.5a7.3 7.3 0 0 0-2.6 1.5l-2.3-1a.7.7 0 0 0-.85.3L.3 8.2a.7.7 0 0 0 .15.9l2 1.5c-.05.5-.1 1-.1 1.5s.05 1 .1 1.5l-2 1.5a.7.7 0 0 0-.15.9l1.9 3.3c.2.3.53.44.85.3l2.3-1c.75.62 1.63 1.15 2.6 1.5l.35 2.5c.05.34.35.6.7.6h4c.35 0 .65-.26.7-.6l.35-2.5c.97-.35 1.85-.88 2.6-1.5l2.3 1c.32.14.65 0 .85-.3l1.9-3.3a.7.7 0 0 0-.15-.9l-2-1.5ZM10 15a3 3 0 1 1 4 0 3 3 0 0 1-4 0Z"/></svg>
      </button>
    </div>
  </header>

  <div id="settingsModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="settingsTitle" hidden>
    <div class="modal-overlay" data-close="1"></div>
    <div class="modal-panel">
      <div class="modal-head">
        <h2 id="settingsTitle">Settings</h2>
        <button id="settingsClose" class="icon-btn" aria-label="Close settings"><svg class="svg-icon" viewBox="0 0 24 24"><path d="M6.2 6.2 18 18m0-11.8L6.2 18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg></button>
      </div>
      <div class="modal-body">
        <div class="setting-row">
          <div class="setting-label">Theme</div>
          <div class="setting-field">
            <label class="radio"><input type="radio" name="theme" id="themeDark" value="dark"> Dark</label>
            <label class="radio"><input type="radio" name="theme" id="themeLight" value="light"> Light</label>
          </div>
        </div>
      </div>
      <div class="modal-foot">
        <button id="settingsSave" class="btn primary">Save</button>
        <button id="settingsCancel" class="btn">Cancel</button>
      </div>
    </div>
  </div>

  <main class="container">
    <section class="controls">
      <input id="search" class="search" type="search" placeholder="Search conditions or frequencies">
      <div class="freq-input">
        <label for="freq">Frequency (Hz)</label>
        <div class="freq-row">
          <input id="freq" type="number" min="0.1" max="20000" step="0.01" value="432">
          <button id="play" class="btn primary">Play</button>
          <button id="stop" class="btn" disabled>Stop</button>
        </div>
      </div>

      <div class="multi-actions">
        <span id="selCount" class="sel-count">Selected: 0</span>
        <div class="multi-actions-right">
          <button id="clearSelected" class="btn">Clear selections</button>
          <button id="playSelected" class="btn">Play Selected</button>
        </div>
      </div>

      <div class="sliders">
        <label for="volume">Volume</label>
        <input id="volume" type="range" min="0" max="100" value="20">
      </div>
      <div class="bgfx-controls">
        <div class="bgfx-row">
          <label for="bgLoopSelect">Background FX</label>
          <select id="bgLoopSelect" class="select bgfx-select"></select>
        </div>
        <div class="bgfx-row">
          <label for="bgLoopVolume">BG volume</label>
          <input id="bgLoopVolume" type="range" min="0" max="100" value="40">
        </div>
      </div>
      <div class="filters">
        <div class="filter-row">
          <label for="category">Category</label>
          <select id="category" class="select">
            <option value="">All categories</option>
          </select>
        </div>
        <label class="fav-toggle"><input id="onlyFavs" type="checkbox"> Favorites only</label>
      </div>
      <div id="now-playing" class="now-playing">Idle</div>
    </section>

    <section class="list" id="list"></section>
  </main>
  <audio id="audioOut" playsinline style="display:none"></audio>
  <script src="data/frequencies.js"></script>
  <script src="app.js"></script>
</body>
</html>
